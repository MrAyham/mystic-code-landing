<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุดููุฑุฉ ุงูุบููุถ โ Mystic Code Experience</title>
  <meta name="description" content="ุงููุฑุญูุฉ ุงูุฃููู: ุจูุงุจุฉ ุงูุชุดููุด. ุงุฎุชุฑ ูุณุงุฑู ูุฃุฏุฎู ุนุงูู ุดููุฑุฉ ุงูุบููุถ." />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Matrix background -->
  <canvas id="matrix"></canvas>

  <!-- Content -->
  <div class="content">
    <img src="assets/mystic-symbol-green.png" alt="ุฑูุฒ ุดููุฑุฉ ุงูุบููุถ" class="symbol" />

    <h1 class="title">ููุฏ ุฑุตุฏุชูโฆ ููุงู ุณุฑ ูููุณ ุจุงุณูู</h1>
    <p class="subtitle">ุฃุฏุฎู ุงุณูู ูุฏุน ููุจ ุงูุจูุงุจุฉ ููุชุญ ููโฆ</p>

    <form id="entryForm" novalidate>
      <div class="fields">
        <input type="text" id="name" name="name" placeholder="ุงุณูู" required />
        <input type="email" id="email" name="email" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู" required />
      </div>

      <div class="buttons">
        <button type="button" id="pathA" class="btn btn-a">๐ฎ ุงุฎุชุฑ ุงููุณุงุฑ ุงูุณุงุญุฑ</button>
        <button type="button" id="pathB" class="btn btn-b">โก ุงุฎุชุฑ ุงููุณุงุฑ ุงูุบุงูุถ</button>
      </div>
      <p class="note">ุจุงูููุฑ ุนูู ุฃุญุฏ ุงููุณุงุฑููุ ูุชู ุญูุธ ุงุฎุชูุงุฑู ูุญูููุง ููุชุงุจุน ุจู ุฅูู ุงููุฑุญูุฉ ุงูุชุงููุฉ.</p>
    </form>
  </div>

  <script src="matrix.js"></script>
  <script>
    // Simple path handling (local only for now)
    function validate() {
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!name || !email) { alert('ุฑุฌุงุกู ุฃุฏุฎู ุงูุงุณู ูุงูุจุฑูุฏ.'); return null; }
      // very basic email check
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { alert('ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ.'); return null; }
      return { name, email };
    }

    function saveLead(data, path) {
      // store locally (placeholder). Later: connect to MailerLite/ConvertKit
      localStorage.setItem('mystic_name', data.name);
      localStorage.setItem('mystic_email', data.email);
      localStorage.setItem('mystic_path', path);
      alert('ุชู ุงูุชุณุฌูู ุจูุฌุงุญ! ูุณุงุฑู: ' + (path === 'A' ? 'ุงูุณุงุญุฑ' : 'ุงูุบุงูุถ') + '\n(ุณููุนูู ุงููุฑุญูุฉ ุงูุจููุณุฌูุฉ ุจุนุฏ ุงูุฏูุน ูู ุงูุฎุทูุฉ ุงููุงุฏูุฉ)');
      // Placeholder for redirect to stage 2 (to be built next)
      // window.location.href = 'stage2.html';
    }

    document.getElementById('pathA').addEventListener('click', () => {
      const data = validate(); if (!data) return; saveLead(data, 'A');
    });
    document.getElementById('pathB').addEventListener('click', () => {
      const data = validate(); if (!data) return; saveLead(data, 'B');
    });

    // Resize canvas on window resize
    window.addEventListener('resize', () => {
      const c = document.getElementById('matrix');
      c.height = window.innerHeight;
      c.width = window.innerWidth;
    });
  </script>
</body>
</html>
